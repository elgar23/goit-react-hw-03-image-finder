{"version":3,"sources":["Components/Button/Button.module.css","Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","Components/Loader/Loader.js","Components/Api/Api.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","img/404_error.jpg","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","onSubmit","e","preventDefault","props","inputValue","setState","target","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Loaders","loader","color","height","width","Api","onFetch","thisPage","fetch","then","r","json","ImageGalleryItem","gallery","error","status","prevProps","prevState","visible","numberPage","resPage","hits","length","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","src","webformatURL","data-src","largeImageURL","alt","ImageGalleryItemImage","onClick","id","Button","loadMore","pageNumber","ButtonDiv","ImageGallery","page","Modal","modal","addEventListener","code","removeEventListener","Overlay","defaultProps","img","App","search","datasrc","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2165c93b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Iwgv\",\"ButtonDiv\":\"Button_ButtonDiv__18dI8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__18ZUW\",\"Modal\":\"Modal_Modal__3vB_e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__WvRsz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__zbUxI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__203A7\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    value: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n  };\n\n  inputValue = e => {\n    return this.setState({ value: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.inputValue}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class Loaders extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        // timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","export default function Api(onFetch, thisPage) {\n  const KEY = '20398947-d1e437c4ec35c84ea5c56c206';\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${onFetch}&page=${thisPage}&per_page=12&key=${KEY}`,\n  ).then(r => r.json());\n}\n","import { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\nimport Loaders from '../Loader/Loader';\nimport Api from '../Api/Api';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGalleryItem extends Component {\n  static propTypes = {\n    visible: PropTypes.func.isRequired,\n    resPage: PropTypes.func.isRequired,\n    largeImageURL: PropTypes.func.isRequired,\n    numberPage: PropTypes.number.isRequired,\n    onFetch: PropTypes.string,\n  };\n\n  state = {\n    gallery: [],\n    error: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    let thisPage = 1;\n\n    if (this.props.onFetch === '' && prevState.status !== this.state.status) {\n      this.setState({ status: 'idle' });\n      this.props.visible(true);\n    }\n    if (\n      prevProps.onFetch !== this.props.onFetch &&\n      prevProps.numberPage === this.props.numberPage\n    ) {\n      this.setState({ gallery: [] });\n      this.setState({ status: 'pending' });\n      this.props.visible(true);\n      this.props.resPage(true);\n\n      Api(this.props.onFetch, thisPage)\n        .then(e => {\n          this.setState({ gallery: e.hits });\n          this.props.visible(false);\n          if (e.hits.length === 0) {\n            this.props.visible(true);\n            return this.setState({ status: 'rejected' });\n          }\n          this.setState({ status: 'resolve' });\n        })\n        .catch(() => this.setState({ status: 'rejected' }));\n    }\n    if (\n      prevProps.onFetch === this.props.onFetch &&\n      prevProps.numberPage < this.props.numberPage\n    ) {\n      thisPage = this.props.numberPage;\n      Api(this.props.onFetch, thisPage)\n        .then(e => {\n          const { gallery } = this.state;\n          this.setState({ gallery: [...gallery, ...e.hits] });\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n          this.props.visible(false);\n          if (e.hits.length === 0) {\n            this.props.visible(true);\n          }\n          this.setState({ status: 'resolve' });\n        })\n        .catch(() => this.setState({ status: 'rejected' }));\n    }\n  }\n\n  render() {\n    const { status, gallery } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <li>\n          <h1>Введите запрос</h1>\n        </li>\n      );\n    }\n\n    if (status === 'rejected') {\n      return (\n        <li>\n          <h1>Запрос не найден</h1>\n        </li>\n      );\n    }\n    if (status === 'pending') {\n      return (\n        <li>\n          <Loaders />\n        </li>\n      );\n    }\n\n    if (status === 'resolve') {\n      return gallery.map(e => (\n        <li key={e.id} className={s.ImageGalleryItem}>\n          <img\n            src={e.webformatURL}\n            data-src={e.largeImageURL}\n            alt=\"img\"\n            className={s.ImageGalleryItemImage}\n            onClick={() => this.props.largeImageURL(e.largeImageURL)}\n          />\n        </li>\n      ));\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default class Button extends Component {\n  static propTypes = {\n    pageNumber: PropTypes.func.isRequired,\n  };\n\n  loadMore = () => {\n    this.props.pageNumber();\n  };\n\n  render() {\n    return (\n      <div className={s.ButtonDiv}>\n        <button className={s.Button} onClick={this.loadMore}>\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onFetch: PropTypes.string,\n    src: PropTypes.func,\n  };\n\n  state = {\n    visible: false,\n    page: 1,\n  };\n\n  largeImageURL = e => {\n    this.props.src(e);\n  };\n\n  visible = length => {\n    if (length) {\n      if (this.state.visible) {\n        this.setState({ visible: false });\n      }\n    }\n    if (!length) {\n      this.setState({ visible: true });\n    }\n  };\n\n  pageNumber = e => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  resPage = e => {\n    if (e) {\n      this.setState({ page: 1 });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <ul className={s.ImageGallery}>\n          <ImageGalleryItem\n            onFetch={this.props.onFetch}\n            largeImageURL={this.largeImageURL}\n            visible={this.visible}\n            numberPage={this.state.page}\n            resPage={this.resPage}\n          />\n        </ul>\n        {this.state.visible && <Button pageNumber={this.pageNumber} />}\n      </div>\n    );\n  }\n}\nexport default ImageGallery;\n","export default __webpack_public_path__ + \"static/media/404_error.a378b0df.jpg\";","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport img from '../../img/404_error.jpg';\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    src: img,\n  };\n\n  static propTypes = {\n    src: PropTypes.string,\n  };\n\n  state = {\n    modal: false,\n  };\n\n  componentDidMount() {\n    if (this.props.src !== '') {\n      this.setState({ modal: true });\n    }\n    window.addEventListener('keydown', e => {\n      if (e.code === 'Escape') {\n        this.setState({ modal: false });\n      }\n    });\n    window.addEventListener('click', e => {\n      if (e.target.alt !== 'img') {\n        this.setState({ modal: false });\n      }\n      if (e.target.alt === 'img') {\n        this.setState({ modal: true });\n      }\n    });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    window.removeEventListener('keydown', e => {\n      if (e.target.alt !== 'img') {\n        this.setState({ modal: false });\n      }\n      if (e.target.alt === 'img') {\n        this.setState({ modal: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      this.state.modal && (\n        <div className={s.Overlay}>\n          <div className={s.Modal}>\n            <img src={this.props.src} alt=\"img\" />\n          </div>\n        </div>\n      )\n    );\n  }\n}\n","import { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from '../src/Components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    search: '',\n    datasrc: '',\n  };\n\n  onSubmit = e => {\n    return this.setState({ search: e });\n  };\n\n  largeImageURL = e => {\n    this.setState({ datasrc: e });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Modal src={this.state.datasrc} />\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery onFetch={this.state.search} src={this.largeImageURL} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__sjE-z\",\"SearchForm\":\"Searchbar_SearchForm__3_DpX\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1OrV3\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__14mm8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1R5nT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__sBZ_T\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3GbXw\"};"],"sourceRoot":""}